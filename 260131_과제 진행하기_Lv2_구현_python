#O(plans)
#plans.sort(key = lambda x: x[1]) 기억하기.
#파이썬이 참 구현이 편하구나
def solution(plans):
    answer = []
    subjects = []
    
    plans.sort(key = lambda x: x[1])
    prevtime = int(plans[0][1][0:2]) * 60 + int(plans[0][1][3:])
    prevsub = plans[0][0]
    prevsubtime = int(plans[0][2])
    
    for i in plans:
        if i == plans[0]: continue
        curtime = int(i[1][0:2]) * 60 + int(i[1][3:])

        
        if prevtime + prevsubtime > curtime:
            subjects.append([prevsub,prevtime + prevsubtime - curtime])
        else:
            answer.append(prevsub)
            prevtime = prevtime + prevsubtime
            while(subjects):
                ex = subjects.pop()
                exsub = ex[0]
                exsubtime = ex[1]
                if exsubtime + prevtime > curtime:
                    subjects.append([exsub, exsubtime + prevtime - curtime])
                    break
                else:
                    prevtime += exsubtime
                    answer.append(exsub)
                    
        prevtime = curtime
        prevsub = i[0]
        prevsubtime = int(i[2])
        if i == plans[len(plans)-1]:
            answer.append(i[0])
        
    while(subjects):
        answer.append(subjects.pop()[0])
    
    return answer
